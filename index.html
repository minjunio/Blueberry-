    </footer>

    <datalist id="cryptos">
        <option value="BTC"><option value="ETH"><option value="SOL"><option value="USDT">
        <option value="ADA"><option value="XRP"><option value="BNB"><option value="DOGE">
        <option value="DOT"><option value="LINK">
    </datalist>

    <script>
        let assets = JSON.parse(localStorage.getItem('assets')) || { USDT: 10000 };
        let trades = JSON.parse(localStorage.getItem('trades')) || [];
        let history = JSON.parse(localStorage.getItem('history')) || [];
        let prices = { USDT: 1 };
        let fiatRates = { USD: 1 };
        let displayCurrency = 'USD';
        let secretClicks = 0;

        const symbolToId = {
            BTC: 'bitcoin', ETH: 'ethereum', SOL: 'solana', USDT: 'tether',
            ADA: 'cardano', XRP: 'ripple', BNB: 'binancecoin', DOGE: 'dogecoin',
            DOT: 'polkadot-new', LINK: 'chainlink'
        };

        const currencySymbols = { USD: '$', EUR: '€', GBP: '£', AED: 'د.إ', JPY: '¥', CNY: '¥' };

        async function fetchPrices(symbols) {
            const needed = symbols.filter(s => s !== 'USDT' && !prices[s]);
            if (needed.length === 0) return;
            const ids = needed.map(s => symbolToId[s] || s.toLowerCase()).join(',');
            try {
                const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=' + ids + '&vs_currencies=usd');
                const data = await res.json();
                needed.forEach(s => {
                    const id = symbolToId[s] || s.toLowerCase();
                    if (data[id]?.usd) prices[s] = data[id].usd;
                });
            } catch (err) {}
        }

        async function fetchFiatRates() {
            try {
                const res = await fetch('https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/usd.json');
                const data = await res.json();
                fiatRates = data.usd;
            } catch (err) {}
        }

        function save() {
            localStorage.setItem('assets', JSON.stringify(assets));
            localStorage.setItem('trades', JSON.stringify(trades));
            localStorage.setItem('history', JSON.stringify(history));
        }

        function getTotalUSD() {
            let total = 0;
            for (const c in assets) {
                if (assets[c] > 0) total += assets[c] * (prices[c] || 0);
            }
            return total;
        }

        function updateTotal() {
            const totalUSD = getTotalUSD();
            const rate = fiatRates[displayCurrency.toLowerCase()] || 1;
            const total = totalUSD * rate;
            document.getElementById('total-amount').innerText = currencySymbols[displayCurrency] + total.toFixed(2);
        }

        function updateAssets() {
            const list = document.getElementById('assets');
